<script setup>
import { useDonateCartStore } from '@/stores/donate-cart.js';
const donateCartStore = useDonateCartStore();

const luckyDay = Math.random() >= 0.8;

function openDonatePage() {
  const url = 'https://www.buymeacoffee.com/tanuki.jr';
  window.open(url, '_blank');
}

</script>

<template>
  <div class="donate_content_card_list">
    <div class="donate_content_card" v-for="donateContentCard in donateCartStore.donateContentCardList" :key="donateContentCard.id">
      <div class="card_pic">
        <img :src="donateContentCard.imgSrc" :alt="donateContentCard.title">
      </div>
      <div class="card_content">
        <h3>{{ donateContentCard.title }}</h3>
        <p>{{ donateContentCard.content }}</p>
        <h4>{{ donateContentCard.fundSum }}</h4>
        
        <button @click="donateCartStore.showSideList(donateContentCard.id)" >åŠ  å…¥ æ¸… å–®</button>
        <!-- é»æ“Šbuttonè§¸ç™¼ç¨‹å¼ä¸¦å¸¶å…¥donateContentCard.id -->
      </div>
    </div>

    <div v-if="luckyDay" class="donate_content_card">
      <div class="card_pic">
        <img :src="'pictures/test/tanuki-rectangle.png'" alt="å¹¸ç¦ç‹¸è²“">
      </div>
      <div class="card_content">
        <h3>å¹¸ç¦ç‹¸è²“</h3>
        <p>æ•£æ’­å¹¸ç¦æ•£æ’­æ„›ï¼Œè«‹æ”¯æŒä¸¦è´ŠåŠ©äºŒç‹¸è²“ç†±å‘¼å‘¼çš„ç•ªè–¯!</p>
        <h4>ææ¬¾ç´¯è¨ˆ 520ğŸ </h4>
        <button @click="openDonatePage">å‰å¾€è´ŠåŠ©</button>
      </div>
    </div>


  </div>
</template>


<style scoped lang="scss">
@import "@/assets/sass/components/donate/donate-content-card";
</style>
